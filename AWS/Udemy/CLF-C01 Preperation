IAM - Global Service

IAM Credentials report lists all your account's users and the status of their various credentials. The other IAM Security Tool is IAM Access Advisor. It shows the service permissions granted to a user and when those services were last accessed.
You only want to use the root account to create your first IAM user, and for a few account and service management tasks. For every day and administration tasks, use an IAM user with permissions.
An IAM policy is an entity that, when attached to an identity or resource, defines their permissions.


S3 Encryption 
Server-side encryption (default)
1. upload to s3
2. encrypt

Client-side encryption
1. encrypt
2. upload to s3

AWS Snow family 
highly-security, portable devices to collect and process data at the edge, and migrate data into and out of AWS
Data migration: Snowcone, Snowball Edge, Snowmobile 
Edge computiong: Snowcone, Snowball Edge

AWS Snow Family: offline devices to perform data migrations 
If it takes more than a week to transfer over the network, use Snowball devices!

Amazon Glacier Deep Archive is the most cost-effective option if you want to archive data and do not have a retrieval time requirement. You can retrieve data in 12 or 48 hours.
AWS Storage Gateway is a hybrid cloud storage service that gives you on-premises access to virtually unlimited cloud storage.
AWS Snowcone is a small, portable, rugged, and secure edge computing and data transfer device. It provides up to 8 TB of usable storage.
Snowball Edge Storage Optimized devices are well suited for large-scale data migrations and recurring transfer workflows, as well as local computing with higher capacity needs.

DB 
DynamoDB 
DynamoDB is a fast and flexible non-relational database service for any scale. It can scale with no downtime, it can process millions of requests per second, and is fast and consistent in performance.

Redshift
Based on Postgresql but not for OLTP
OLAP - online analytical processing 
Columnar storage of data (instead of row based)
BI tools such as Tableau integrate with it

Amazon EMR
Elastic MapReduce
EMR helps creating Hadoop clusters (Big Data) to analyze and process vast amount of data
Supports Apache Spark, HBase, Presto, Flink
Use cases: data processing, machime learning, web indexing, big data

Amazon Athena
Serverless quesry service to perform analytics against S3
Use standart SQL language
Use cases: BI, analytics, reporting
Exam TIP: amalyze data in S3 using serverless SQL -- use Athena

Amazon QuickSight
Serverless machine learning-powered BI service create interactive Dashboard
Use cases: Business analytics, building vizualizations, perform ad-hoc analytics, get business insight using data
Integrated with RDS, Aurora, Athena, Redshift, S3

DocumentDB
DocumentDB is the same for MongoDB (which is NO Sql DB)
MongoDB is  used to store. query anf index JSON data

Amazon Neptune
Fully managed graph db
A popular Graph dataset would be a social network
Greate for knowledge graph (Wikipedia), fraud detection, recommendation engines, social networking

Amazon QLDB
QLDB - stands for "Quantum Ledger Database"
A ledger is a book recording financial transactions
Used to review history of all changes made to your application data over time
Immutable system: no entry can be removed or modified, cryptographically verifiable
Difference with Amazon Managed Blockchain: no decentralization component, in accordance with financial regulation rules

Amazon Managed Blockchain
Blockchain makes it possible to build applications where multiple parties can execute transactions without the need for a trusted, central authority.
Is managed service to:
- join public blockchain network 
-create your own scalable private network

AWS Glue
Managed extract, transform, and load (ETL) service
Useful to prepare and transform data for analytics
Fully serverless service 
The AWS Glue Data Catalog is a central repository to store structural and operational metadata for all your data assets.

DMS - Database migration service 
Quickly and securely migrate databases to AWS, resilient, self healing 
The source database remains available during the migration

Amazon DynamoDB Accelerator (DAX)
Is a fully managed, highly available, in-memory cache for Amazon DynamoDB that delivers up to a 10 times performance improvement—from milliseconds to microseconds—even at millions of requests per second.

Summary:
Relational db - OLTP: RDS & Aurora (SQL)
Differences between Multi-AZ, Read Replicas, Multi-Region 
In-Memory Database: ElasticCache
Key/Value db: DynamoDB (serverless) & DAX (cache for DynamoDB)
Warehouse - OLAP: Redshift (SQL)
Hadoop Cluster: EMR 
Athena: query data on Amazon S3 (serverless & SQL)
QuickSight: dashboards on your data (serverless)
DocumentDB: "Aurora for MongoDB" (JSON - NoSQL database)
AmazonQLDB: Financial Transactions Ledger (immutable journal, cryptoghraphically verifiable)
Amazon Managed Blockchain: managed Hyperledger Fabric & Euthereum Blockchains
Glue: Managed ETL (Extract Transform Load) and Data Catalog service
Database Migration: DMS
NeptuneL grapch database


ECS = Elastic Container Service
Launch Docker containers on AWS
AWS takes care of starting/stopping containers

Fargate 
Launch Docker containers on AWS
You do not provision the infreastracture (no EC2 istances to manage) - simpler!
AWS just runs containers for you based on the CPU/RAM you need

ECR = Elastic Container Registry 
Private Docker Registry on AWS
This is where you store your Docker images so they can be run by ECS or Fargate

Serverless is a new paradigm in which the deveopers don;t have to manage servers anymore
They just deploy code 
Serverless == FaaS (Function as a Service)
Serverless does not mean there are no servers...
It means you just don't manage/provision/see them

AWS Lambda
Virtual functions - no servers to manage!
Limited by time - short executions 
Run on-demand 
Scaling is automated 

Serverless CRON Job
ClowdWatch Events EventBridge -> AWS Lambda Function Perform a task

AWS Lambda pricing is based on calls and duration.

Batch vs Lambda
Lambda:
- Time limit 
- Limited runtimes
- Limited temprora disk space

Batch:
- No time limit 
- Any runtime as long as it's packaged as a Dockerimage
- Rely on EBS / instance store for disk space
- Relies on EC2 (can be managed by AWS)

Amazon Lightsail 
- Virtual servers, storage, databases, and networking 
- Low & predictable pricing 
- Can setup notifications and monitoring of your Lightsail resources 
- Has high availability but no auto-scaling, limited AWS integrations
Use cases:
- simple web applications
- websites 
- dev/test envs

Summary:
Docker: container technology to run applications
ECS: run Docker containers on EC2 instances 
Fargate:
- run docker containers without provisioning the infrastracture 
- serverless offering (no EC2 instances)
ECR: private docker images repository 
Batch: run batch jobs on AWS across managed EC2 instances 
Lghtsail: predictable & low pricing for simple application & DB stacks

Lambda Summary:
- lambda is serverless, functin as a Service, seamless scaling, reactive
- labbda billing: 
1. by the time x by the RAM provisioned
2. by the number of invocations
- language support
- Invocation time: u[ to 15 minutes
- API GatewayL expose Lambda functions as HTTP API

AWS Elastic Beanstalk 
- Elastic Beanstalk is a developer cetric view of deploying an application on AWS
- It uses all the component's: EC2, ASG, ELB, RDC, etc...
- But it's all in one view that's easy to make sense of!
- We still full control over the configuration 

Beanstalk = Platform as a Service (PaaS)


AWS CodePipeline 
CodeCommit -> CodeBuild -> CodeDeploy -> Elastic Beanstalk
Basis for CICD 

"Orchestration of pipeline" == AWS CodePipeline

AWS CodeArtifact
- Software packages depend on each other to be built, and new ones are created 
- Storing and retrieving these dependencies is called artifact management

AWS CodeStar 
- Unified UI to easily manage software development activities in one place 
- "Quick way" to get ctarted to  correctly set-up CodeCommit, CodePipeline, ..ect

AWS CodeBuild is a fully managed continuous integration service that compiles source code, runs tests, and produces software packages that are ready to deploy. With CodeBuild, you don’t need to provision, manage, and scale your own build servers, it is serverless.
AWS CodeDeploy is a service that automates code deployments to any instance, including Amazon EC2 instances and instances running on-premises.
AWS CodeCommit is a secure, highly scalable, managed source control service that makes it easier for teams to collaborate on code. It also provides software version control.
AWS CloudFormation templates are JSON or YAML-formatted text files. They are declarations of the AWS resources that make up a stack.

AWS Cloud9
- AWS Cloud9 is a cloud IDE for writting, running and debugging code
- AWS Cloud9 also allows for code collaboration in real-time (pair programming)

AWS System Manager (SSM)
- helps manage EC2 and On-Premises systems at scale 
- patching automation for enhanced compliance 
- run commands across an entire fleet of services
- store parameter configuration with the SSM Parameter Store 

AWS OpsWorks is a configuration management service that provides managed instances of Chef and Puppet.

The AWS Cloud Development Kit (AWS CDK) is an open source software development framework to define your cloud application resources using familiar programming languages.

!! "A way to patch your fleet of EC2 instances or On-Premises servers" == SSM

AWS Global Accelerator VS CloudFront
- They both use the AWS global network and it's edge locations around the world
- Both services integrate with AWS Shield for DDoD protection
CloudFront - Content Delivery Network 
improves performance for your cacheable content (such as images and videos)
content is served as the edge

Global Accelerator 
no caching, proxying packets at the edge to applications running in one or more AWS Regions
improves performance for a wide range applications over TCP or UDP
good for HTTP use cases that require static IP addresses
good for HTTP use cases that required deterministic, fact regional failover 

AWS Outposts 
AWS Outposts are "server racks" that offers the same AWS infrastracture, services, APIs tools to build your own applications on-premises just as in the cloud
AWS will setup and manage "Outposts Racks" within your on-premises infrastracure and you can start leveraging AWS services on-premises 
YOU are responsible for the Outposts Rack physical security

AWS WaveLength
WaveLengt Zones are infrastracture deployments embedded with the telecommunications providers datacenters at the edge of the 5G networks
Ultra-low latency applications through 6G networks
Use cases: smart cities, ML-assisted diagnostics, real-time gaming...

AWS Local Zones
Places AWS compute, storage, database, and other selected AWS services closer to end users to run latency-senditive applications
Extend your VPC to more locations - "Extension of an AWS Region"

Amazon SQS = Simple Queue Service
Fully managed service (~serverless), use to decople applications
Messages are deleted after they are read by consumers
Consumers share the work to read messages & scale horizontally 
FIFO Queue = First In First Out

Amazon Kinesis
Kinesis = real-time big data streaming
Managed service to collect, process and analyze real-time streaming data at any scale
Kinesis Data Streams: low latency streaming to ingest data at scale from hundreds of thousands of sources
Kinesis Data Firehose: load streams into S3, Redshict, ElasticSearch, etc..
Kinesis Data Analytics: performreal-time analytics on streaming using SQL
Kinesis Video Streams: monitor real-time video streams for analytics or ML

Amazon SNS 
The "event publisher" only sends message to one SNS topic 
As many "event subscribers" as we want to listen to the SNS topic notifications
Each subscriber to the topic will get all the messages
Notification, publish subscribe = SNS 

Amazom MQ
When migrating to the cloud, instead of re-engineering the application to use SQS and SNS, we can use Amazon MQ
Amazon MQ is managed message brocker service for RabbitMQ and ActiveMQ


Cloud Monitoring 
CloudWatch - provides all metrics for every services in AWS
CloudWatch Alarms - alarms are used to trigger notifications for any metric 
CloudWantch Logs - collect logs from:
- Elastic Beanstalk
- ECS
- AWS Lambda 
- CloudTrail 
- Route53 
By default, no logs from EC2 will go to CloudWatch
You need to run a CloudWatch agent on EC2 to push the log files you want

Amazon EventBridge 
Schedule: cron jobs (schedule scripts)
Event Pattern: event rules to react to a service doing something 
Trigger Lambda functions, send SQS/SNS messages

AWS CloudTrail
Provides governance, compliance and audit for your AWS Account 
CloudTrail is enabled by default 
Get an history of events/API calls made within your AWS Account by: 
- console 
- SDK 
- CLI
- AWS Services 
Can put logs from CloudTrail into CloudWatch Logs or S3 
!! If a resource is deleted in AWS, investigate CloudTrail first!!

AWS X-Ray 
Debugging in Production, the good old way:
- test locally 
- add log statements everywhere 
- re-deploy in production 
- tracing and get visual analysis of your application
Log formats differ across applications and log analysus is hard 

AWS X-Ray - visual analisys of our applications. Advantages:
- for troubleshooting 
- understand dependencies in a mocroservice architecture 
- pinpoing service issues
- review request behavior 
- find errors and exceptions 

Amaxon CodeGuru 
An ML-powered service for automated code reviews and application performance recommendations 
Provides 2 functions:
1. CodeGuru Review - automated code reviews for statis code analysis 
2. CodeGuru Profiler - visibility/recommendations about app performance during runtime (production)

AWS Health Dashboard - Service History 
- Shows all regions, all services health 
- Shows historical information for each day 
- Has an RSS feed you can subscribe to 
- Previously called AWS Service Health Dashboard 

AWS Health Dashboard provides alerts and remediation guidance when AWS is experiencing events that may impact you.

VPC Section
VPC - Virtual Pricate Cloud: private network to deploy your resources (regional resource)
Subnet - allow you to partition your network inside your VPC (Availability Zone resource)
A Public subnet - is a subnet that is accessibke from the Internet 
A Private subnet - is a subnet that is not accessible from the Internet 
To define access to the Internet and between subnet, we use Route Tables. 

Inetrnet Gateways helps our VPC instances connect with the Internet 
Public Subnet have a route to the Internet gateway.

NAT Gatways & NAT Instances allow your instances in your Private Subnet to access the Internet while remaining private.

NACL (Network ACL)
- A firewall which controls traffic from and to Subnet
- Can have ALLOW and DENY rules
- Are attached at the Subnet level 
- Rules only include IP Addresses

Security Groups
- A firewall that controls traffic to and from an ENI/an EC2 Instance 
- Can have only ALLOW rules
- Rules include IP addresses and other security groups 


VPC Flow Logs 
Capture information about IP traffic goiong into your interfaces:
- VPC Flow Logs
- Subnet Flow Logs 
- Elastic Network Interface Flow Logs 
Helps to monitor & troubleshoot connectivity issues. 
Captures netword information from AWS managed interface too: Elastic Load Balancers, ElastiCache, RDS, Aurora
VPC Flow logs data can go to S3, CloudWatch Logs and Kinesis Data Firehose 

VPC Peering 
Connect two VPC, privately using AWS' network 
Make them behave as if they were in the same network 
Must not have overlapping CIDR (IP adress range)
VPC Peering connection is not transitive (must be established for each VPC that need to communicate with one another)

VPC Endpoints 
Endpoints allow you to connect to AWS Services using a private network instead of the public www network 
This gives you enhanced security and lower latency to access AWS Services 
VPC Enpoint Gateway: S3 & DynamoDB
VPC Endpoint Interface: the rest 

AWS PrivateLink (VPC Endpoint Services)
- Most secure & scalable way to expose a service 1000s of VPCs
- Does not require VPC peering, internet gateway, NAT, route tables...
- Requires a network load balancer (Service VPC) and ENI (Customer VPC)

Site to Site VPN 
- Connect an on-premises VPN to AWS 
- The connection is automatically encrypted 
- Goes over the public internet 

Direct Connect (DX)
- Establish a physical connection between on-premises and AWS 
- The connection is private, secure and fast 
- Goes over a private network 
- Takes at least a month to establish 

On premises: must a Customer Gateway (CGW)
AWS: must use a Virtual Private Gateway (VGW)


AWS Client VPN 
Connect from your computer using OpenVPN to your private network in AWS and on-premises
Allow you to connect to your EC2 instances over a private IP 
Goes over public internet 

Transit Gateway 
For having transitive peering between thousands of VPC and on-premises, hub-and spokke (star) connection
One single Gateway to provide this functionality 
Works with Direct Connect Gateway, VPN connections 

Security & Compliance 
- AWS responsobility - Security of the Cloud
Protecting infra (hardware, software, facilities and networking) that runs all the AWS services 
Managed services like S3, DynamoDB, RDS, etc
- Customer responsobility - Security in the Cloud 
For EC2 instance, customer is responcible for management of the guest OS (including security patches and updates), firewall & network configuration, IAM 
Encrypting application data 
- Shared controls:
Patch managements, Configuration management, awareness & training 

DDOS Protection on AWS
- AWS Shield Standart: protects against DDOS atack for your website and apps
- AWS Shield Advanced: 24/7 premium DDoS protection 
- AWS WAF: Filterspecific requests based on rules 
- CloudFront and Route 53L:
  - availability protection using global edge network 
  - combined with AWS Shield, provides attack mitigaion at the edge 

Be ready to scale - leverage AWS Auto Scaling 

AWS Network Firewall
- Protect your entire Amazon VPC 
- From Layer 3 to Layer 7 proyection
- Any direction 

Data at rest VS Data in transit 
1. At rest: data stored or archivied on a device 
2. In transit (in motion): data being moved from one location to another 
3. We want to encrypt data in both states to protect it!
For this we leverage encryption keys 

AWS KMS - Key Management Service 
CloudHSM - AWS provisions encryption hardware 

Types of Customer Master Keys: CMK 
- Customer Managed CMK: 
Create, manage and used by the customer, can enable ot disable 
Possibility of rotation policy 
- AWS managed CMK: 
Created, managed and used on the customer's behalf by AWS 
Used by AWS services 
- AWS owned CMK:
Collection of CMKs that an AWS service owns and manages to use in multiple accounts
AWS can use those to protect resources in your account 
- CloudHSM Keys 
Keys generated from your own CloudHSM hardware device 
Cryptographic operations are performed withing the CloudHSM cluster 


